(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{8266:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search",function(){return t(48641)}])},99687:function(e,s,t){"use strict";var n=t(85893),l=t(33299),a=t(41664),r=t.n(a),o=t(78543),c=t(65629);s.Z=function(e){let{answerModel:s,setAnswerModel:t,requestsLeftForGPT4:a,session:i,useCreativeMode:d,setUseCreativeMode:m}=e;return(0,n.jsx)("div",{className:"form-check form-switch",children:(0,n.jsxs)("div",{className:"dropdown",children:[(0,n.jsxs)("button",{className:"btn p-0 fs-6 fw-bold text-dark text-decoration-underline' dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:[s,(0,n.jsx)("i",{className:"mx-1 fe fe-chevron-down text-black"})]}),(0,n.jsxs)("ul",{className:"dropdown-menu",children:[(0,n.jsx)("li",{children:(0,n.jsx)("div",{className:"row",children:(0,n.jsxs)("button",{className:"mx-1 dropdown-item d-flex align-items-center justify-content-between",type:"button",onClick:()=>{t("GPT-4")},children:["GPT-4","GPT-4"===s&&(0,n.jsx)("i",{className:"mx-1 fe fe-check text-always-dark"})]})})}),(0,n.jsx)("li",{children:(0,n.jsx)("div",{className:"row",children:(0,n.jsxs)("button",{className:"mx-1 dropdown-item d-flex align-items-center justify-content-between",type:"button",onClick:()=>{t("Phind Model")},children:["Phind Model","Phind Model"===s&&(0,n.jsx)("i",{className:"mx-1 fe fe-check text-always-dark"})]})})}),(0,n.jsx)("li",{children:(0,n.jsx)("div",{className:"row",children:(0,n.jsxs)("button",{className:"mx-1 dropdown-item d-flex align-items-center justify-content-between",type:"button",onClick:()=>{t("GPT-3.5-Turbo")},children:["GPT-3.5-Turbo","GPT-3.5-Turbo"===s&&(0,n.jsx)("i",{className:"mx-1 fe fe-check text-always-dark"})]})})}),(0,n.jsxs)("li",{children:[(0,n.jsx)("div",{className:"row",children:(0,n.jsxs)("p",{className:"p-1 mt-5 mb-0 fs-6",children:[(0,n.jsxs)("span",{className:"text-primary",children:[Math.max(a,0)," ","GPT-4 uses left",i&&" today","."]}),(0,n.jsx)("br",{}),(0,n.jsx)("span",{className:"text-always-dark",children:"Phind Model and GPT-3.5-Turbo are unlimited."}),!i&&a<=0&&(0,n.jsx)("button",{className:"btn fs-6 p-0 fw-bold text-always-dark text-decoration-underline",type:"button",onClick:()=>{(0,l.signIn)().then(()=>{o.n.track("Sign In")})},children:"Sign in for more GPT-4 model uses."}),i&&a<=0&&(0,n.jsx)(r(),{className:"btn fs-6 p-0 fw-bold text-always-dark text-decoration-underline",type:"button",href:"/plans",children:"Upgrade for more daily GPT-4 model uses."})]})}),(0,n.jsx)("div",{className:"row",children:(0,n.jsx)(c.Z,{message:"Creative mode doesn't consider search results in the answer.",children:(0,n.jsx)("div",{className:"form-check form-switch mt-5",children:(0,n.jsxs)("label",{className:"form-check-label fs-6 fw-bold",htmlFor:"Creative mode",children:["Creative Mode",(0,n.jsx)("input",{className:"form-check-input",type:"checkbox",value:"",id:"Creative Mode",checked:d,onChange:()=>{m(!d),o.n.track("Click Checkbox",{name:"Use creative mode",checked:d})}})]})})})})]})]})]})})}},48641:function(e,s,t){"use strict";t.r(s),t.d(s,{__N_SSP:function(){return J},default:function(){return V}});var n=t(85893),l=t(67294),a=t(9008),r=t.n(a),o=t(11163),c=t(41664),i=t.n(c),d=t(76812),m=t(66261),u=t(33299),h=t(92981),x=t(37870),p=t(96769),b=t(3176),w=t(78543),f=t(38323),j=t(82010),g=t(30399),N=t(11319),v=t(29758),k=t(12372),y=t(92929);let C=(0,n.jsxs)("p",{className:"placeholder-glow",children:[(0,n.jsx)("span",{className:"placeholder placeholder-sm col-12 "}),(0,n.jsx)("span",{className:"placeholder placeholder-sm col-12"}),(0,n.jsx)("span",{className:"placeholder placeholder-sm col-8"})]}),S={strict:!1,output:"mathml"},P=(0,l.memo)(function(e){let{markdown:s}=e,{theme:t,setTheme:l,resolvedTheme:a}=(0,j.F)(),r={backgroundColor:k.L5,padding:"3px",borderRadius:"8px",color:"white",cursor:"pointer"},o={backgroundColor:"white",padding:"3px",borderRadius:"8px",color:"black",cursor:"pointer"};return(0,n.jsx)(f.D,{remarkPlugins:[g.Z,v.Z],rehypePlugins:[N.Z,[N.Z,S]],className:"fs-5",components:{p:e=>{let{node:s,...t}=e;return(0,n.jsx)("p",{className:"text-black mb-3",...t})},ul:e=>{let{node:s,...t}=e,l={...t,ordered:"false"};return(0,n.jsx)("ul",{className:"mb-3",...l})},ol:e=>{let{node:s,...t}=e,l={...t,ordered:"true"};return(0,n.jsx)("ol",{className:"mb-2",...l})},a:e=>{let{node:s,...t}=e,{children:l}=t;return(0,n.jsx)("a",{target:"_blank",...t,children:l})},code(e){let{node:s,inline:t,className:l,children:c,style:i,...d}=e;return t?(0,n.jsx)("code",{onClick:()=>{navigator.clipboard.writeText(String(c))},className:l,style:"dark"===a?o:r,...d,children:c}):(0,n.jsx)(y.Z,{highlighterProps:d,url:"",className:l,children:String(c)})}},children:s})}),T=e=>(0,n.jsxs)("p",{children:["The inference service may be temporarily unavailable - we have alerts for this and will be fixing it soon.",(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),"You can try the regenerate button in a few moments.",(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),"If your query still does not work, you can try searching this on"," ",(0,n.jsx)("a",{href:"https://www.google.com/search?q=".concat(encodeURIComponent(e)),children:"Google"})," ","or"," ",(0,n.jsx)("a",{href:"https://www.duckduckgo.com?q=".concat(encodeURIComponent(e)),children:"DuckDuckGo"}),".",(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),"You can also prefix your question with !g or !ddg"," ",(0,n.jsx)(i(),{href:"/bangs",children:"shortcuts"}),". You may have to enable popups for this to work."]});var Z=function(e){var s;let{question:t,waitingForStreamStart:l,answer:a,searchResults:r,doneStreaming:o,metadata:c}=e,i={},d=null==c?void 0:c.model_name,m=null==c?void 0:c.mode;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h6",{className:"text-uppercase mt-1",children:d?"Answer  | ".concat(d," Model ").concat(void 0!==m&&"Normal"!==m?"| ".concat(m):""):"Answer"}),l&&C,!l&&(null!==(s=(e=>{if(!e)return null;let s=r.map(e=>e.url),t=e;t=(0,p.Yg)(t,s);for(let e=0;e<15;e+=1)t.includes("[".concat(e,"]"))&&r&&(i[e]=r[e].url);return(t=(t=t.replace(p.V7,(e,s)=>{if(r){var t;let e=null===(t=r[s])||void 0===t?void 0:t.url,n=e?new URL(e):null,l=n?n.hostname.replace("www.","").replace("https://","").replace("http://","").split("/")[0]:"";return"".concat(l)}return""})).replace(/\$\d+(?!\$)/g,e=>e.replace("$","\\$"))).split("```").map((e,s)=>s%2!=0?(0,n.jsx)(P,{markdown:"```".concat(e,"```")},s):e.trimStart().split("\n\n").map((e,s)=>(0,n.jsx)(P,{markdown:e},e)))})(a))&&void 0!==s?s:T(t))]}),(0,n.jsx)("div",{className:"position-relative mt-4",children:Object.keys(i).length>0&&o&&(0,n.jsxs)("div",{children:[(0,n.jsx)("h6",{className:"text-uppercase",children:"Citations"}),(0,n.jsx)("div",{className:"mb-3",children:Object.keys(i).map(e=>(0,n.jsx)("a",{href:i[e],target:"_blank",rel:"noreferrer",className:"lift shadow-none btn btn-light btn-sm m-1 text-wrap text-start",children:"[".concat(e,"] ").concat(i[e].replace("www.","").replace("https://","").replace("http://","").split("/")[0])},e))})]})})]})},A=t(60161),q=function(e){let{pageIndex:s,setPageIndex:t,numPages:l}=e,a=Array.from(Array(l).keys());return(0,n.jsx)("ul",{className:"pagination",children:a.map((e,l)=>(0,n.jsx)("li",{className:"page-item ".concat(s===l?"active":""),children:(0,n.jsx)("button",{className:"page-link btn-light",onClick:()=>t(l),type:"button",children:l+1})},l))})},M=t(65629);let E=Array.from([,,,,,].keys()).map(e=>(0,n.jsxs)("div",{className:"mb-6 placeholder-glow",children:[(0,n.jsx)("span",{className:"placeholder placeholder-sm col-6"}),(0,n.jsx)("span",{className:"placeholder placeholder-sm col-11"}),(0,n.jsx)("span",{className:"placeholder placeholder-sm col-10"})]},"placeholder ".concat(e)));var I=function(e){var s,t;let{searchResults:a,loading:r,openLinksInNewTab:o,customLinks:c,beginEditQuery:d}=e,[m,u]=(0,l.useState)(0),h=[];for(let e=0;e<a.length;e+=5)h.push(a.slice(e,e+5));if(c.length>0){let e=c.map((e,s)=>({title:"Custom Link ".concat(s),url:e,description:"Your custom link."}));h=[e,...h]}return(0,n.jsxs)("div",{className:"position-relative",children:[(0,n.jsx)("h6",{className:"text-uppercase d-inline",children:"Sources"}),(0,n.jsx)(M.Z,{message:"Edit Query",children:(0,n.jsx)("button",{type:"button",className:"btn btn-sm p-1",onClick:d,children:(0,n.jsx)("i",{className:"fe fe-edit text-black"})})}),(0,n.jsx)(M.Z,{message:"Filter Sources",children:(0,n.jsx)(i(),{href:"/filters",className:"text-dark",children:(0,n.jsx)("button",{type:"button",className:"btn btn-sm p-1",children:(0,n.jsx)("i",{className:"fe fe-filter text-black"})})})}),r&&E,!r&&!(null==h?void 0:h.length)&&(0,n.jsx)("p",{children:"There were no search results found."}),m<h.length&&(null===(s=h[m])||void 0===s?void 0:s.map((e,s)=>(0,n.jsx)("div",{children:(0,n.jsx)(A.Z,{openLinksInNewTab:o,index:s,webResult:e})},e.url))),!r&&(0,n.jsx)("div",{className:"row mt-2",children:(0,n.jsx)("div",{className:"col-6",children:(0,n.jsx)(q,{pageIndex:m,setPageIndex:u,numPages:null!==(t=null==h?void 0:h.length)&&void 0!==t?t:0})})})]})},F=t(91745),G=t(93680),L=t(11676),R=t(99017),_=function(e){let{show:s,setShow:t,sendFeedback:l,currentFeedback:a}=e,r=()=>t(!1),o=e=>{let s={helpful:a};for(let t=0;t<e.target.elements.length;t+=1)"checkbox"===e.target.elements[t].type&&(s[e.target.elements[t].id]=e.target.elements[t].checked),"textarea"===e.target.elements[t].type&&(s.comment=e.target.elements[t].value);l(s,"Feedback Form"),r(),e.preventDefault()};return(0,n.jsx)(R.Z,{show:s,onHide:r,children:(0,n.jsxs)(R.Z.Body,{className:"bg-light",children:[(0,n.jsx)(R.Z.Title,{className:"mb-5",children:"Additional Feedback"}),(0,n.jsxs)(L.Z,{onSubmit:o,children:[(0,n.jsxs)(L.Z.Group,{className:"m-1 mb-5",controlId:"exampleForm.ControlTextarea1",children:[(0,n.jsx)(L.Z.Label,{children:!1===a?"What was the issue? How can it be improved?":"What do you like about the response?"}),(0,n.jsx)(L.Z.Control,{className:"bg-white",as:"textarea",type:"textarea",rows:3})]}),!1===a&&(0,n.jsxs)(L.Z.Group,{className:"m-1 mb-5",controlId:"formBasicCheckbox",children:[(0,n.jsx)(L.Z.Check,{type:"checkbox",label:"Answer isn't true",id:"inaccurate"}),(0,n.jsx)(L.Z.Check,{type:"checkbox",label:"Answer is incomplete",id:"tooShort"}),(0,n.jsx)(L.Z.Check,{type:"checkbox",label:"I waited too long",id:"tooSlow"})]}),(0,n.jsx)(G.Z,{className:"m-1",variant:"secondary",onClick:r,children:"Close"}),(0,n.jsx)(G.Z,{className:"m-1",variant:"primary",type:"submit",children:"Submit"})]})]})})},D=t(48684),Q=function(e){let{sendFeedback:s}=e;return(0,n.jsx)("div",{className:"alert bg-light alert-dismissible fade show p-3",role:"alert",children:(0,n.jsxs)("div",{className:"d-flex container",children:[(0,n.jsx)("div",{className:"flex-grow-1 align-self-center",children:(0,n.jsx)("strong",{children:"Was this response better or worse?"})}),(0,n.jsxs)("button",{className:"btn btn-light btn-sm m-1",onClick:()=>s("better"),type:"button",children:[(0,n.jsx)("i",{className:"fe fe-thumbs-up m-2"}),"Better"]}),(0,n.jsxs)("button",{className:"btn btn-light btn-sm m-1",onClick:()=>s("worse"),type:"button",children:[(0,n.jsx)("i",{className:"fe fe-thumbs-down m-2"}),"Worse"]}),(0,n.jsxs)("button",{className:"btn btn-light btn-sm m-1",onClick:()=>s("same"),type:"button",children:[(0,n.jsx)("i",{className:"fe fe-minus-circle m-2"}),"Same"]})]})})},H=t(27052),U=function(e){let{suggestedFollowups:s,customSearchHandler:t}=e,l=async(e,s)=>{e.preventDefault(),t&&t(s,""),w.n.track("Click Suggested Followup",{prompt:s})};return(0,n.jsx)("div",{className:"my-5",children:!!(null==s?void 0:s.length)&&s.map(e=>(0,n.jsx)("a",{onClick:s=>l(s,e),children:(0,n.jsx)("button",{type:"button",className:"lift shadow-none btn btn-light btn-sm m-1 text-wrap text-start",children:e})},e))})},Y=t(99687),B=t(35572),O=t(81794),W=t(5352);let $=(0,n.jsxs)("p",{className:"placeholder-glow",children:[(0,n.jsx)("span",{className:"placeholder placeholder-sm col-12 "}),(0,n.jsx)("span",{className:"placeholder placeholder-sm col-12"}),(0,n.jsx)("span",{className:"placeholder placeholder-sm col-8"})]}),K={cacheKey:"",question:"",searchQuery:"",searchResults:[],answer:"",context:"",previousAnswers:[],customLinks:[],metadata:{}};function X(e){var s,t,a,c;let f,{cachedAnswerHistory:j,numRequestsDone:g,phindPlan:N,paidPlanValid:v,anonUserId:y,cachedSuggestedFollowupQuestions:C}=e,S=(0,o.useRouter)(),{query:{q:P,cache:T,fromExtension:A,source:q,c:E}}=S;f=v?"Phind Plus"===N?k.de:"Phind Pro"===N||"Phind Pro Yearly"===N?k.Ln:k.BY:k.BY;let{data:G}=(0,u.useSession)(),[L,R]=(0,l.useState)(!1),X=(0,l.useRef)(new AbortController),{signal:J}=X.current,[V,z]=(0,l.useState)(null!=j?j:[]),[ee,es]=(0,l.useState)(null!=C?C:[]),et=V.length,en=null==V?void 0:V.map(e=>e.question),el=null==en?void 0:en[0],ea=null==V?void 0:null===(s=V[0])||void 0===s?void 0:s.context,er=null==en?void 0:en.slice(-1)[0],eo=null===(t=null==V?void 0:V.slice(-1)[0])||void 0===t?void 0:t.context,ec=V?V.map(e=>e.answer):[],[ei]=(0,F.Z)("userSearchRules",k.dJ),[ed,em]=(0,F.Z)("numNotLoggedInRequestsDone",0),eu=G?f-g:k.BH-ed,[eh,ex]=(0,F.Z)("answerModel","GPT-4"),[ep,eb]=(0,F.Z)("useCreativeMode",!1),[ew,ef]=(0,F.Z)("usePairProgrammerMode",!1),ej=("Phind Pro"===N||"Phind Pro Yearly"===N)&&v,eg="Phind Model"===eh||"GPT-4"===eh&&eu<=0,eN=ej?k.CZ:k.M9,ev=eg?k.c5:eN,ek=(ej||eg)&&!P&&!E&&!T&&window.localStorage,ey=ek&&localStorage.getItem("long-question")||"",eC=ek&&localStorage.getItem("long-context")||"",eS=null!==(a=null!=P?P:ey)&&void 0!==a?a:"",eP=null!==(c=null!=E?E:eC)&&void 0!==c?c:"",[eT,eZ]=(0,l.useState)(Array(et).fill(!1)),[eA,eq]=(0,l.useState)(Array(et).fill(!1)),[eM,eE]=(0,l.useState)(Array(et).fill(!0)),[eI,eF]=(0,l.useState)(null),[eG,eL]=(0,l.useState)(!1),[eR,e_]=(0,l.useState)(!1),[eD,eQ]=(0,l.useState)(!1),[eH,eU]=(0,F.Z)("upgradeModalAllowed",!0),[eY,eB]=(0,l.useState)(Array(et).fill(!1)),eO={},eW=new Date,e$=eW.toLocaleDateString(),eK="";eK=window.navigator.language;let{isXs:eX}=(0,D.k)(),{isMd:eJ}=(0,D.k)(),{isSm:eV}=(0,D.k)(),ez={date:e$,language:eK,detailed:!0,anonUserId:y,answerModel:eh,creativeMode:ep},e0=()=>{X.current.abort(),X.current=new AbortController};(0,l.useEffect)(()=>{let e=e=>{"Escape"===e.key&&e0()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[]);let e1=async()=>{(null==window?void 0:window.confirm("Are you sure you want to remove your last answer?"))&&(w.n.track("Click Remove Last Answer",{answer:V[V.length-1]}),z(e=>e.slice(0,-1)))},e6=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"feedback",t={question:er,context:eo,source:A?"extension":q,answerCount:V.length,options:ez,searchOptions:eO,phindPlan:N};w.n.track(s,{...t,...e})},e2=(e,s,t)=>{if(e>=V.length){console.error("Answer index out of bounds");return}let n=V[e],l=s||er;w.n.track("Regenerate Answer",{question:l,previousAnswerData:n,answerIndex:e});let{searchResults:a}=n,r=a;t&&a&&(r=a.filter((e,s)=>t[s]));let{previousAnswers:o}=n,c=(0,p.N6)(V,e,{...n,searchResults:r,question:l,previousAnswers:[...o,n.answer]});z(c);let i={...ez,regenerate:!0};sn(e,c,i),(null==n?void 0:n.answer)&&e_(!0)},[e4,e8]=(0,l.useState)(!1),e3=async function(e,s){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:et;if(e4)return;e8(!0);let n={...K,question:e,context:s};z(e=>(0,p.N6)(e,t,n)),eZ(e=>(0,p.N6)(e,t,!0)),eq(e=>(0,p.N6)(e,t,!0));let{query:l}=await(0,b.rm)("".concat(e,"\n").concat(s),en.slice(0,t),ec.slice(0,t)).catch(s=>(console.error(s),{query:e}));m.OK.scrollTo("answer-".concat(t),{duration:650,delay:0,smooth:"easeInOutQuart"}),ss(t,e,s,l),e8(!1)},[e5,e9]=(0,l.useState)(!1);(0,l.useEffect)(()=>{e9(!0)},[]),(0,l.useEffect)(()=>{0===eu&&eH&&!eD&&"GPT-4"===eh&&e5&&eQ(!0)},[eu,e5]),(0,l.useEffect)(()=>{if(!e5||!window.localStorage||!S||!S.isReady||T)return;if(!eS){console.error("router is ready but q empty"),S.push("/");return}let e=ej?k.CZ:k.M9,s=eS;(0,p.In)(eS)>e&&(s=(0,p.yF)(eS,e));let t={...K,question:s,context:eP};z(e=>(0,p.N6)(e,0,t)),eZ(e=>(0,p.N6)(e,0,!0)),eq(e=>(0,p.N6)(e,0,!0)),(0,b.rm)("".concat(s,"\n").concat(eP),[],[]).then(e=>{let{query:n}=e;z(e=>(0,p.N6)(e,0,{...t,searchQuery:n})),ss(0,s,eP,n)}).catch(e=>{console.error(e),ss(0,s,eP,s)})},[P,S,e5]);let[e7,se]=(0,l.useState)(!1),ss=(e,s,t,n)=>{if(""===s)return;let l=[],a=s.match(/(?:^|\s)(https?:\/\/\S+)(?:\s|$)/g);a&&a.forEach(e=>{let s=e.trim();!(s.includes("127.0.0")||s.includes("localhost"))&&(l.includes(s)||l.push(s))});let r=(0,p.hC)(s);se(r);let o=(0,p.xs)(s);if(o){window.open(o,"_self","noopener,noreferrer");return}let c={...K,question:s,searchQuery:n,context:t};z(s=>(0,p.N6)(s,e,c)),eZ(s=>(0,p.N6)(s,e,!0)),eq(s=>(0,p.N6)(s,e,!0)),(0,b.xq)(n,ei,eK).then(s=>{if(eZ(s=>(0,p.N6)(s,e,!1)),!s||s.length<=0)return;let t={...c,searchResults:s,customLinks:l},n=(0,p.N6)(V,e,t);z(n);let a={...ez,customLinks:l};r||sn(e,n,a)})},st=e=>{let{answer:s}=V[e],t=(0,p.N6)(eY,e,!0);eB(t),w.n.track("Click Copy Answer",{answer:s}),navigator.clipboard.writeText(s)},sn=function(e,s){let t,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ez;if(!1===eM[e]){console.warn("Did not start new stream as previous stream is still running.");return}eq(s=>(0,p.N6)(s,e,!0)),eE(s=>(0,p.N6)(s,e,!1)),eF(null);let{question:l,searchResults:a,context:r,searchQuery:o}=s[e];if(e>=1){let c=s.slice(0,e).map(e=>"".concat(e.question,"\n").concat(e.context)),i=s.slice(0,e).map(e=>e.answer);t=(0,b.iK)(l,c,i,a,r,n,o)}else t=(0,b.tA)(l,a,r,n);G||"GPT-4"!==eh||em(e=>e+1),t.then(async t=>{let n="",l={},a=(0,d.j)(s=>{if("event"===s.type){let{data:t}=s;if(t.includes("<PHIND_METADATA>")){let s=t.replace("<PHIND_METADATA>","").replace("</PHIND_METADATA>",""),n=JSON.parse(s);l={...l,...n},z(s=>(0,p.N6)(s,e,{...s[e],metadata:{...s[e].metadata,...n}}))}else eq(s=>(0,p.N6)(s,e,!1)),n+=t,z(s=>(0,p.N6)(s,e,{...s[e],answer:n}))}}),r=t.body,o=(0,p.Mz)(r,J);for await(let e of(0,p.Uj)(o)){let s=new TextDecoder().decode(e);a.feed(s)}eE(s=>(0,p.N6)(s,e,!0));let c=null!=T?T:(0,h.Mc)(),i={...s[e],cacheKey:c,answer:n,metadata:l},m=(0,p.N6)(s,e,i);z(m),sl(e,m)}).catch(s=>{console.error(s),eq(s=>(0,p.N6)(s,e,!1)),eE(s=>(0,p.N6)(s,e,!0))})},sl=(e,s)=>{var t,n;let{cacheKey:l}=s[e],a="".concat(window.location.origin).concat("/search?cache=".concat(l)),{question:r,answer:o,context:c}=s[e];(null==G?void 0:null===(t=G.user)||void 0===t?void 0:t.userId)&&w.n.identify(null==G?void 0:null===(n=G.user)||void 0===n?void 0:n.userId),e6({answerIndex:e,answer:o,newCachedUrlLink:a,question:r,questionLength:r.length,answerLength:o.length,context:c,contextLength:c.length,combinedQuestionContextLength:r.length+c.length},"search"),(0,b.De)(r,o).then(async e=>{e&&es(e)}),(0,b.Qc)("".concat(l),r,s).then(()=>{S.replace({pathname:"/search",query:{cache:l}},void 0,{scroll:!1,shallow:!0})})},[sa,sr]=(0,l.useState)(Array(et).fill(!1)),[so,sc]=(0,l.useState)(Array(et).fill(!1)),[si,sd]=(0,l.useState)(!1);return e5?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r(),{children:(0,n.jsx)("title",{children:er})}),(0,n.jsx)(_,{show:eG,setShow:eL,sendFeedback:e6,currentFeedback:eI}),(0,n.jsx)(B.Z,{show:eD,setShow:eQ,setShowUpgradeModalAllowed:eU,isLoggedIn:null!=G}),(0,n.jsx)(W.Z,{show:si,setShow:sd}),(0,n.jsxs)("div",{className:"container-xl search-container",children:[(0,n.jsx)(O.Z,{showChatHistoryModal:si,setShowChatHistoryModal:sd}),(0,n.jsx)("div",{className:"row mt-6",children:(0,n.jsxs)("div",{className:"col-lg-8 col-xl-8",children:[(0,n.jsx)(x.Z,{placeholder:"",initialContext:ea||eP,initialQuestionFromCache:el||eS,defaultNumRowsToShow:1,customSearchHandler:ew?p.XD:void 0,maxTokenLimit:ev}),(0,n.jsxs)("div",{className:"mt-4",style:{display:"flex",justifyContent:"space-between"},children:[(0,n.jsx)(M.Z,{message:"Pair Programmer is more conversational and asks you clarification questions. It can be better for debugging.",children:(0,n.jsx)("div",{className:"form-check form-switch",children:(0,n.jsxs)("label",{className:"form-check-label fs-6 fw-bold",htmlFor:"Legacy Search",children:["Pair Programmer",(0,n.jsx)("input",{className:"form-check-input",type:"checkbox",value:"",id:"Pair Programmer",checked:ew,onChange:()=>{ef(!ew),w.n.track("Click Checkbox",{name:"Use Pair Programmer",checked:ew})}})]})})}),(0,n.jsx)(M.Z,{message:"Select your preferred answering model.",children:(0,n.jsx)(Y.Z,{answerModel:eh,setAnswerModel:ex,requestsLeftForGPT4:eu,session:G,useCreativeMode:ep,setUseCreativeMode:eb})})]}),(0,n.jsx)("div",{children:eu<=0&&"GPT-4"===eh&&(G?(0,n.jsx)(M.Z,{message:"You get 10 free GPT-4 model uses each day. Upgrade for higher limits. You have unlimited fast model uses after your best model uses expire.",placement:"bottom",children:(0,n.jsx)(i(),{className:"btn fs-6 p-0 mt-4 fw-bold text-dark text-decoration-underline",href:"/plans",children:"Upgrade for more daily GPT-4 uses"})}):(0,n.jsx)("button",{className:"btn fs-6 p-0 mt-4 fw-bold text-dark text-decoration-underline",type:"button",onClick:()=>{(0,u.signIn)().then(()=>{w.n.track("Sign In")})},children:"Sign in for more GPT-4 model uses"}))})]})}),V.map((e,s)=>{let{cacheKey:t,question:l,searchResults:a,answer:r,searchQuery:o,customLinks:c,metadata:i,context:d}=e,u="".concat(l," ").concat(t),h=s===V.length-1,b=l.length>150?"".concat(l.slice(0,150),"..."):l,f=()=>{eM[s]&&(w.n.track("Click Edit Query",{question:l,searchQuery:o,answerIndex:s}),sc(e=>(0,p.N6)(e,s,!e[s])))};return(0,n.jsxs)(m.W_,{name:"answer-".concat(s),className:"row",children:[(0,n.jsx)("div",{className:"col-lg-8 col-xl-8",children:eM[s]||eA[s]?(0,n.jsxs)("button",{className:"btn btn-light btn-sm mt-4 mb-2",style:{visibility:"hidden"},type:"button",children:[(0,n.jsx)("i",{className:"fe fe-square m-2"}),"Stop Generating [Esc]"]}):(0,n.jsxs)("button",{className:"btn btn-light btn-sm mt-4 mb-2",onClick:()=>{w.n.track("Stop Generating",{question:l}),e0()},type:"button",children:[(0,n.jsx)("i",{className:"fe fe-square m-2"}),"Stop Generating [Esc]"]})}),(0,n.jsx)("div",{className:"col-lg-8 col-xl-8",children:(0,n.jsxs)("div",{className:"mb-0",children:[!sa[s]&&s>0&&(0,n.jsx)(M.Z,{message:"Edit Question",children:(0,n.jsx)("span",{className:l!==b?"fs-5 mb-3 font-monospace":"fw-bold fs-3 mb-3",style:{whiteSpace:"pre-wrap",wordWrap:"break-word",cursor:"pointer"},onClick:()=>{eM[s]&&(w.n.track("Click Edit Question",{question:l,searchQuery:o,answerIndex:s}),sr(e=>(0,p.N6)(e,s,!e[s])))},children:L?l:b})}),sa[s]&&(0,n.jsx)("div",{onBlur:()=>{setTimeout(()=>{sr(e=>(0,p.N6)(e,s,!1))},100)},children:(0,n.jsx)(x.Z,{placeholder:"Edit your question.",initialQuestionFromCache:l,initialContext:d,defaultNumRowsToShow:1,customSearchHandler:(e,t)=>{e3(e,t,s),sr(e=>(0,p.N6)(e,s,!1))},maxTokenLimit:ev})}),!so[s]&&s>0&&l!==b?(0,n.jsx)(M.Z,{message:"Show Full Question",children:(0,n.jsx)("i",{className:L?"fe fe-chevron-up":"fe fe-chevron-down",onClick:()=>{R(!L)}})}):null]})}),!eX&&!eJ&&(0,n.jsx)("div",{className:"col-lg-4 col-xl-4",children:(0,n.jsxs)("div",{className:eX||eV||eJ?"container-xl web-container p-0 ms-0":"container-xl web-container p-0 me-0",children:[!so[s]&&s>0&&(!o&&s>0?$:!o.includes(l)&&(0,n.jsx)(M.Z,{message:"Edit Query",children:(0,n.jsx)("span",{className:"fw-bold fs-3 mb-3",style:{whiteSpace:"pre-wrap",wordWrap:"break-word",cursor:"pointer"},onClick:f,children:o})})),so[s]&&(0,n.jsx)("div",{onBlur:()=>{sc(e=>(0,p.N6)(e,s,!1))},children:(0,n.jsx)(x.Z,{placeholder:"Edit search query",initialContext:"",initialQuestionFromCache:o,defaultNumRowsToShow:1,customSearchHandler:(e,t)=>{ss(s,l,d,e),sc(e=>(0,p.N6)(e,s,!1))}})})]})}),!e7&&(0,n.jsxs)("div",{className:"col-lg-8 col-xl-8",children:[(0,n.jsx)(Z,{question:l,answer:r,waitingForStreamStart:eA[s],searchResults:a,doneStreaming:eM[s],metadata:i}),h&&!eA[s]&&eM[s]&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"mb-4",children:[eR&&(0,n.jsx)(Q,{sendFeedback:e=>{let t=V[s].previousAnswers.slice(-1)[0];e6({regenerate:e,previousAnswer:t,answer:r},"Regenerate Feedback"),e_(!1)}}),(null===eI||!0===eI)&&(0,n.jsx)(M.Z,{message:"Good answer",placement:"top",children:(0,n.jsx)("button",{className:"btn btn-light btn-sm m-1",onClick:()=>{null===eI&&(e6({helpful:!0}),eF(!0),eL(!0))},type:"button",children:(0,n.jsx)("i",{className:"fe fe-thumbs-up m-2"})})}),(null===eI||!1===eI)&&(0,n.jsx)(M.Z,{message:"Bad answer",placement:"top",children:(0,n.jsx)("button",{className:"btn btn-light btn-sm m-1",onClick:()=>{null===eI&&(e6({helpful:!1}),eF(!1),eL(!0))},type:"button",children:(0,n.jsx)("i",{className:"fe fe-thumbs-down m-2"})})}),(0,n.jsx)(M.Z,{message:"Copy answer",placement:"top",children:(0,n.jsx)("button",{className:"btn btn-light btn-sm m-1",onClick:()=>st(s),type:"button",children:eY[s]?(0,n.jsx)("i",{className:"fe fe-check text-success mx-2"}):(0,n.jsx)("i",{className:"fe fe-copy mx-2"})})}),(0,n.jsx)(M.Z,{message:"Regenerate this answer",placement:"top",children:(0,n.jsx)("button",{className:"btn btn-light btn-sm m-1",onClick:()=>e2(s),type:"button",children:(0,n.jsx)("i",{className:"fe fe-refresh-cw m-2"})})}),(0,n.jsx)("button",{type:"button",className:"btn btn-light btn-sm dropdown dropdown-toggle m-1","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,n.jsx)("i",{className:"fe fe-edit m-2"})}),(0,n.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenu2",children:[(0,n.jsx)("h6",{className:"dtopdown-header text-uppercase",children:" modify "}),(0,n.jsxs)("li",{children:[(0,n.jsxs)("button",{className:"dropdown-item",type:"button",onClick:()=>{m.OK.scrollTo("answer-".concat(s),{duration:400,delay:0,smooth:"easeInOutQuart"}),sr(e=>(0,p.N6)(e,s,!0))},children:[(0,n.jsx)("i",{className:"fe fe-edit m-1"}),"Edit Question"]}),(0,n.jsxs)("button",{className:"dropdown-item",type:"button",onClick:e1,children:[(0,n.jsx)("i",{className:"fe fe-trash m-1"}),"Delete Answer"]})]})]}),(0,n.jsx)(H.Z,{question:el,lastAnswer:r,conversationContent:V.map(e=>"## ".concat(e.question,"\n").concat(e.answer)).join("\n\n")})]}),et<=k.Ni&&(0,n.jsx)("div",{className:"fixed-bottom bg-gradient-light",style:{pointerEvents:"none"},children:(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"col-xl-12",style:{pointerEvents:"auto"},children:(0,n.jsx)("div",{className:"container-xl search-container p-4",children:(0,n.jsx)("div",{className:"col-lg-8",children:(0,n.jsx)(x.Z,{placeholder:"Ask a followup question",initialQuestionFromCache:"",initialContext:"",defaultNumRowsToShow:1,customSearchHandler:e3,maxTokenLimit:ev})})})})})}),(0,n.jsx)(U,{suggestedFollowups:ee,customSearchHandler:e3})]})]}),(0,n.jsxs)("div",{className:e7?"col-lg-8 col-xl-7":"col-lg-4 col-xl-4",children:[(0,n.jsx)("div",{className:eX||eV||eJ?"container-xl web-container p-0 ms-0":"container-xl web-container p-0 me-0",children:(0,n.jsx)(I,{customLinks:c,openLinksInNewTab:!0,searchResults:a,loading:eT[s],beginEditQuery:f})}),(0,n.jsx)("div",{className:"container-xl search-container mt-4 align-items-end"})]})]},u)}),(0,n.jsx)("div",{className:"mt-14"})]})]}):null}X.defaultProps={phindPlan:"Phind Free",paidPlanValid:!1,anonUserId:"",cachedAnswerHistory:[],cachedSuggestedFollowupQuestions:[]};var J=!0,V=X}},function(e){e.O(0,[48,74,721,17,870,354,183,363,147,687,774,888,179],function(){return e(e.s=8266)}),_N_E=e.O()}]);